<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gabriel Gazeta Marcelino ‚Äî Engenheiro de Software & Desenvolvedor Web</title>
  <meta name="description" content="Portf√≥lio profissional de Gabriel Gazeta Marcelino ‚Äî Futuro Engenheiro de Software e Desenvolvedor Web Full Stack." />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- AOS (anima√ß√µes de rolagem) -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  <!-- Particles.js -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

  <style>
    /* ------- VARI√ÅVEIS E THEMING ------- */
    :root{
      --bg: #050816;
      --card: #0b1020;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --primary: #60a5fa; /* azul */
      --accent: #a78bfa; /* roxo */
      --border: rgba(99,102,241,0.18);
      --tooltip-bg: rgba(79,70,229,0.95);
      --glass: rgba(255,255,255,0.03);
    }

    /* Light theme overrides (applied via .theme-light no need to duplicate too much) */
    .theme-light{
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #64748b;
      --primary: #2563eb;
      --accent: #7c3aed;
      --border: rgba(37,99,235,0.12);
      --tooltip-bg: rgba(37,99,235,0.95);
      --glass: rgba(0,0,0,0.03);
    }

    html { scroll-behavior: smooth; }
    body { overflow-x: hidden; transition: background 0.25s ease, color 0.25s ease; background: var(--bg); color: var(--text); }

    .gradient-text {
      background: linear-gradient(90deg, var(--primary), var(--accent), #38bdf8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientShift 6s infinite alternate;
    }
    @keyframes gradientShift {
      0% { filter: hue-rotate(0deg); }
      100% { filter: hue-rotate(90deg); }
    }

    #particles-js { position: absolute; width: 100%; height: 100%; z-index: 0; top: 0; left: 0; }

    .parallax { background-image: url('https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=1600&q=80'); background-attachment: fixed; background-size: cover; background-position: center; }

    /* Card / modal */
    #avatar-modal { backdrop-filter: blur(8px); background-color: rgba(0,0,0,0.6); }

    /* Theme panel */
    .theme-panel { width: 300px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border: 1px solid var(--border); color: var(--text); }

    /* Tooltip styling uses variable */
    #tooltip { background: var(--tooltip-bg); }

    /* small responsive polish */
    @media (max-width: 640px){ .theme-panel{ width: 90vw;} }

    /* ensure images/icons adapt */
    img { image-rendering: auto; }
  </style>
</head>
<body class="font-sans antialiased relative" data-theme>

  <!-- HEADER -->
  <header class="fixed top-0 left-0 w-full bg-[color:var(--glass)]/80 backdrop-blur-md z-50 border-b" style="border-color:var(--border);">
    <nav class="max-w-6xl mx-auto px-4 sm:px-6 flex justify-between items-center h-20 relative">
      <div class="flex items-center gap-4">
        <h1 class="text-2xl font-extrabold gradient-text tracking-wide">Gabriel Gazeta</h1>
      </div>

      <ul class="hidden md:flex gap-6 text-sm font-medium">
        <li><a href="#sobre" class="hover:text-indigo-400 transition" style="color:var(--text)">Sobre</a></li>
        <li><a href="#trajeto" class="hover:text-indigo-400 transition" style="color:var(--text)">Trajet√≥ria</a></li>
        <li><a href="#habilidades" class="hover:text-indigo-400 transition" style="color:var(--text)">Habilidades</a></li>
        <li><a href="#projetos" class="hover:text-indigo-400 transition" style="color:var(--text)">Projetos</a></li>
        <li><a href="#contato" class="hover:text-indigo-400 transition" style="color:var(--text)">Contato</a></li>
      </ul>

      <!-- THEME CONTROLS -->
      <div class="relative flex items-center gap-2">
        <button id="theme-toggle" class="p-2 rounded-lg border" aria-label="Abrir painel de tema" title="Abrir painel de tema" style="border-color:var(--border); background:transparent; color:var(--text)">
          Tema
        </button>

        <!-- painel -->
        <div id="theme-panel" class="hidden absolute right-0 mt-3 p-4 rounded-2xl theme-panel shadow-2xl" style="z-index:60">
          <div class="flex items-center justify-between mb-3">
            <strong>Prefer√™ncias de Tema</strong>
            <button id="theme-close" class="text-sm px-2 py-1 rounded hover:bg-white/5">‚úï</button>
          </div>

          <div class="mb-3">
            <label class="flex items-center gap-2 mb-2">Modo:</label>
            <div class="flex gap-2">
              <button class="mode-btn px-3 py-1 rounded" data-mode="auto">Auto</button>
              <button class="mode-btn px-3 py-1 rounded" data-mode="light">Claro</button>
              <button class="mode-btn px-3 py-1 rounded" data-mode="dark">Escuro</button>
            </div>
          </div>

          <div class="mb-3">
            <label class="block mb-2">Cor prim√°ria:</label>
            <div class="flex items-center gap-2">
              <input id="primary-color" type="color" value="#60a5fa" class="w-10 h-10 p-0 border rounded" />
              <div class="flex gap-2">
                <!-- sugest√µes r√°pidas -->
                <button class="preset-color w-8 h-8 rounded" data-color="#60a5fa" style="background:#60a5fa"></button>
                <button class="preset-color w-8 h-8 rounded" data-color="#2563eb" style="background:#2563eb"></button>
                <button class="preset-color w-8 h-8 rounded" data-color="#06b6d4" style="background:#06b6d4"></button>
                <button class="preset-color w-8 h-8 rounded" data-color="#f97316" style="background:#f97316"></button>
              </div>
            </div>
          </div>

          <div class="flex justify-between">
            <button id="reset-theme" class="px-3 py-1 rounded border">Restaurar</button>
            <button id="apply-theme"></button>
          </div>
        </div>
      </div>
    </nav>
  </header>

 <!-- HERO -->
<section id="hero" class="relative flex flex-col justify-center items-center text-center min-h-screen pt-32 overflow-hidden">
  <div id="particles-js"></div>

  <div class="relative z-10 flex flex-col items-center max-w-3xl px-6">
    <!-- FOTO / AVATAR -->
    <div class="relative mb-8" data-aos="zoom-in">
      <img id="avatar" src="avatar.jpg" alt="Gabriel Marcelino" 
           class="w-40 h-40 sm:w-48 sm:h-48 rounded-full border-4 border-[color:var(--primary)] shadow-lg hover:scale-105 transition-transform duration-500 cursor-pointer" />
      <div class="absolute inset-0 rounded-full" style="box-shadow:0 8px 30px rgba(0,0,0,0.25)"></div>
    </div>

    <h2 class="text-5xl sm:text-6xl font-extrabold mb-6 gradient-text" data-aos="zoom-in">
      Futuro Engenheiro de Software<br> & Desenvolvedor Full Stack
    </h2>

    <p class="text-[color:var(--muted)] text-lg mb-8" data-aos="fade-up">
      Criando solu√ß√µes digitais modernas, eficientes e inteligentes.<br>
      Transformando ideias em experi√™ncias tecnol√≥gicas reais.
    </p>

    <div class="flex flex-wrap justify-center gap-4" data-aos="zoom-in-up">
      <a href="#contato" class="px-6 py-3 rounded-lg font-semibold hover:opacity-95 transition" style="background:var(--primary); color:white">Entrar em Contato</a>
      <a href="#trajeto" class="px-6 py-3 border rounded-lg font-semibold hover:bg-[color:var(--glass)] transition" style="border-color:var(--border); color:var(--text)">Conhecer Trajet√≥ria</a>
    </div>
  </div> 
  <br><br><br>

  <div class="absolute bottom-10 text-[color:var(--muted)] text-sm animate-bounce" data-aos="zoom-in-up">
    ‚Üì Role para explorar
  </div>
</section>

<!-- MODAL DO AVATAR -->
<div id="avatar-modal" class="hidden fixed inset-0 flex justify-center items-center z-50">
  <img src="avatar.jpg" class="w-96 h-96 rounded-full border-8" style="border-color:var(--primary)" />
</div>

<!-- PARALLAX -->
<div class="parallax w-full h-64 flex items-center justify-center text-center">
  <h3 class="text-3xl font-bold text-white bg-black/50 px-6 py-3 rounded-lg">Codificando o Futuro üöÄ</h3>
</div>

  <!-- SOBRE -->
  <section id="sobre" class="max-w-5xl mx-auto px-6 py-20" data-aos="fade-up">
    <h3 class="text-3xl font-bold mb-6 gradient-text">Sobre Mim</h3>
    <p class="text-[color:var(--muted)] leading-relaxed">
      Meu nome √© <strong>Gabriel Gazeta Marcelino</strong>, nasci em 11/12/2007 e tenho <span id="idade"></span> anos.
      Sou estudante de <strong>Engenharia de Software</strong> na <strong>UNAERP</strong> ‚Äî Ribeir√£o Preto - SP.
      Apaixonado por tecnologia e inova√ß√£o, busco criar solu√ß√µes escal√°veis, funcionais e com design moderno.
    </p>
  </section>
<!-- TRAJET√ìRIA -->
<section id="trajeto" class="py-20">
  <h3 class="text-3xl font-bold mb-12 text-center gradient-text" data-aos="fade-down">Minha Trajet√≥ria</h3>
  <div class="relative max-w-5xl mx-auto px-6">
    <!-- Linha central da timeline com cor prim√°ria din√¢mica -->
    <div id="timeline-line" class="absolute left-1/2 transform -translate-x-1/2 h-full w-1 rounded" style="background-color:var(--primary)"></div>

    <!-- Timeline item -->
    <div class="relative flex items-center justify-between mb-12" data-aos="fade-right">
      <div class="w-5/12 text-right pr-6">
        <h4 class="font-semibold" style="color:var(--primary)">Primeiros Passos</h4>
        <p class="text-[color:var(--muted)] text-sm">
          Iniciei em programa√ß√£o em 2022, explorando <strong>HTML, CSS</strong> e <strong>JavaScript</strong>.
        </p>
      </div>
      <div class="w-5 h-5 rounded-full" style="background-color:var(--primary)"></div>
      <div class="w-5/12"></div>
    </div>

    <div class="relative flex items-center justify-between mb-12" data-aos="fade-left">
      <div class="w-5/12"></div>
      <div class="w-5 h-5 rounded-full" style="background-color:var(--primary)"></div>
      <div class="w-5/12 pl-6">
        <h4 class="font-semibold" style="color:var(--primary)">Curso T√©cnico ‚Äî SENAI</h4>
        <p class="text-[color:var(--muted)] text-sm">
          <strong>An√°lise e Desenvolvimento de Sistemas</strong> ‚Äî 2024‚Äì2025. Desenvolvendo l√≥gica de programa√ß√£o e projetos reais.
        </p>
      </div>
    </div>

    <div class="relative flex items-center justify-between mb-12" data-aos="fade-right">
      <div class="w-5/12 text-right pr-6">
        <h4 class="font-semibold" style="color:var(--primary)">UNAERP</h4>
        <p class="text-[color:var(--muted)] text-sm">
          Cursando <strong>Engenharia de Software</strong>, focando em <strong>Full Stack</strong> e arquitetura de sistemas.
        </p>
      </div>
      <div class="w-5 h-5 rounded-full" style="background-color:var(--primary)"></div>
      <div class="w-5/12"></div>
    </div>

    <div class="relative flex items-center justify-between mb-12" data-aos="fade-left">
      <div class="w-5/12"></div>
      <div class="w-5 h-5 rounded-full" style="background-color:var(--primary)"></div>
      <div class="w-5/12 pl-6">
        <h4 class="font-semibold" style="color:var(--primary)">Expans√£o de Compet√™ncias</h4>
        <p class="text-[color:var(--muted)] text-sm">
          Aprendendo <strong>Python</strong>, <strong>React avan√ßado</strong> e aprofundando conhecimentos em <strong>bancos de dados</strong> e DevOps.
        </p>
      </div>
    </div>

    <div class="relative flex items-center justify-between" data-aos="fade-right">
      <div class="w-5/12 text-right pr-6">
        <h4 class="font-semibold" style="color:var(--primary)">Projetos Pessoais</h4>
        <p class="text-[color:var(--muted)] text-sm">
          Desenvolvimento de portf√≥lio interativo, APIs em PHP e Node.js, e apps com React. Experimentando sempre novas tecnologias.
        </p>
      </div>
      <div class="w-5 h-5 rounded-full" style="background-color:var(--primary)"></div>
      <div class="w-5/12"></div>
    </div>
  </div>
</section>


<!-- HABILIDADES (corrigido) -->
<section id="habilidades" class="py-20 text-center relative" data-aos="fade-up">
  <h3 class="text-3xl font-bold mb-10 gradient-text">Linguagens & Ferramentas</h3>

  <div id="skills" class="flex flex-wrap justify-center gap-10 max-w-5xl mx-auto">
    <!-- cada skill usa a cor prim√°ria para hover -->
    <div class="skill group relative flex flex-col items-center cursor-pointer" data-tooltip="HTML5 ‚Äî Linguagem de marca√ß√£o para estruturar p√°ginas web.">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-plain.svg" class="w-16 transition-transform group-hover:scale-110" alt="HTML5" />
    </div>

    <div class="skill group relative flex flex-col items-center cursor-pointer" data-tooltip="CSS3 ‚Äî Respons√°vel pelo design e estilo das p√°ginas.">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-plain.svg" class="w-16 transition-transform group-hover:scale-110" alt="CSS3" />
    </div>

    <div class="skill group relative flex flex-col items-center cursor-pointer" data-tooltip="JavaScript ‚Äî Adiciona interatividade e l√≥gica aos sites.">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" class="w-16 transition-transform group-hover:scale-110" alt="JavaScript" />
    </div>

    <div class="skill group relative flex flex-col items-center cursor-pointer" data-tooltip="React ‚Äî Biblioteca JavaScript para criar interfaces modernas.">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg" class="w-16 transition-transform group-hover:scale-110" alt="React" />
    </div>

    <div class="skill group relative flex flex-col items-center cursor-pointer" data-tooltip="PHP ‚Äî Linguagem para desenvolvimento de sistemas e back-end.">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/php/php-original.svg" class="w-16 transition-transform group-hover:scale-110" alt="PHP" />
    </div>

    <div class="skill group relative flex flex-col items-center cursor-pointer" data-tooltip="MySQL ‚Äî Sistema de gerenciamento de banco de dados relacional.">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg" class="w-16 transition-transform group-hover:scale-110" alt="MySQL" />
    </div>

    <div class="skill group relative flex flex-col items-center cursor-pointer" data-tooltip="Git ‚Äî Controle de vers√£o para projetos e colabora√ß√£o em equipe.">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg" class="w-16 transition-transform group-hover:scale-110" alt="Git" />
    </div>

    <div class="skill group relative flex flex-col items-center cursor-pointer" data-tooltip="Python ‚Äî Linguagem vers√°til usada em automa√ß√£o e IA.">
      <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" class="w-16 opacity-70 transition-transform group-hover:scale-110" alt="Python" />
    </div>
  </div>

  <!-- Tooltip flutuante (inicialmente invis√≠vel; controlado por JS) -->
  <div id="tooltip" 
       class="fixed px-3 py-2 text-sm rounded-lg text-white shadow-lg z-50 pointer-events-none transition-opacity duration-150"
       style="display:none; opacity:0; transform:translateY(0.25rem);">
  </div>
</section>

<!-- PROJETOS -->
<section id="projetos" class="py-20">
  <h3 class="text-3xl font-bold mb-10 text-center gradient-text" data-aos="fade-down">Projetos</h3>
  <div class="max-w-6xl mx-auto px-6 grid gap-8 md:grid-cols-2 lg:grid-cols-3">
    
    <!-- Projeto 1 -->
    <div class="p-6 rounded-lg shadow-lg text-center hover:scale-[1.05] transition" data-aos="fade-up"
         style="background-color:var(--card); border:1px solid var(--border)">
      <h4 class="font-semibold mb-2" style="color:var(--primary)">Portf√≥lio Interativo</h4>
      <p class="text-[color:var(--muted)] text-sm mb-3">
        Site pessoal constru√≠do com <strong>HTML, CSS, JavaScript e Tailwind</strong>, com anima√ß√µes, part√≠culas e temas din√¢micos.
      </p>
      <a href="https://github.com/Gabriel11122007/portfolio" target="_blank" class="text-[color:var(--primary)] text-sm hover:underline">Ver no GitHub ‚Üí</a>
    </div>

    <!-- Projeto 2 -->
    <div class="p-6 rounded-lg shadow-lg text-center hover:scale-[1.05] transition" data-aos="fade-up" data-aos-delay="100"
         style="background-color:var(--card); border:1px solid var(--border)">
      <h4 class="font-semibold mb-2" style="color:var(--primary)">Sistema de Login PHP/MySQL</h4>
      <p class="text-[color:var(--muted)] text-sm mb-3">
        Sistema seguro com registro, login e controle de sess√µes, utilizando <strong>PHP</strong> e <strong>MySQL</strong>.
      </p>
      <a href="https://github.com/Gabriel11122007/login-php" target="_blank" class="text-[color:var(--primary)] text-sm hover:underline">Ver no GitHub ‚Üí</a>
    </div>

    <!-- Projeto 3 -->
    <div class="p-6 rounded-lg shadow-lg text-center hover:scale-[1.05] transition" data-aos="fade-up" data-aos-delay="200"
         style="background-color:var(--card); border:1px solid var(--border)">
      <h4 class="font-semibold mb-2" style="color:var(--primary)">Calculadora IMC Avan√ßada</h4>
      <p class="text-[color:var(--muted)] text-sm mb-3">
        Calculadora com <strong>popup explicativo</strong> e estilo moderno, tudo em <strong>uma p√°gina HTML</strong> interativa.
      </p>
      <a href="https://github.com/Gabriel11122007/imc-calculator" target="_blank" class="text-[color:var(--primary)] text-sm hover:underline">Ver no GitHub ‚Üí</a>
    </div>

    <!-- Adicione mais projetos seguindo o mesmo padr√£o -->
  </div>
</section>


  <!-- CONTATO -->
  <section id="contato" class="max-w-5xl mx-auto px-6 py-20 text-center">
    <h3 class="text-3xl font-bold mb-8 gradient-text">Contato</h3>
    <p class="text-[color:var(--muted)] mb-6">Quer conversar ou colaborar? Me chame:</p>
    <div class="flex justify-center gap-4">
      <a href="mailto:ggabrielmarcelino@gmail.com" class="text-[color:var(--primary)] hover:opacity-90">Email</a>
      <a href="https://instagram.com/gazeta_.72" target="_blank" class="text-[color:var(--primary)] hover:opacity-90">Instagram</a>
      <a href="https://github.com/Gabriel11122007" target="_blank" class="text-[color:var(--primary)] hover:opacity-90">GitHub</a>
      <a href="https://wa.me/5516997795333" target="_blank" class="text-[color:var(--primary)] hover:opacity-90">WhatsApp</a>
    </div>
  </section>

  <footer class="text-center text-sm text-[color:var(--muted)] py-6 border-t" style="border-color:var(--border)">
    ¬© <span id="ano"></span> Gabriel Gazeta Marcelino ‚Äî Todos os direitos reservados
  </footer>


 <!-- SCRIPTS -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script>
    AOS.init({ duration: 900, once: false });

    // Idade autom√°tica
    const nasc = new Date(2007, 11, 11);
    const hoje = new Date();
    let idade = hoje.getFullYear() - nasc.getFullYear();
    const m = hoje.getMonth() - nasc.getMonth();
    if (m < 0 || (m === 0 && hoje.getDate() < nasc.getDate())) idade--;
    document.getElementById('idade').textContent = idade;

    // Ano autom√°tico
    document.getElementById('ano').textContent = new Date().getFullYear();

    // Part√≠culas - cria fun√ß√£o para atualizar cor
    function initParticles(color){
      try {
        window.pJSDom && window.pJSDom.length && window.pJSDom.forEach(d => d.pJS.fn.vendors.destroypJS());
      } catch(e){}
      particlesJS('particles-js', {
        particles: {
          number: { value: 60, density: { enable: true, value_area: 800 } },
          color: { value: color },
          shape: { type: 'circle' },
          opacity: { value: 0.45 },
          size: { value: 3 },
          move: { enable: true, speed: 2 }
        },
        interactivity: {
          events: { onhover: { enable: true, mode: 'repulse' } },
          modes: { repulse: { distance: 100 } }
        }
      });
    }

    // Tooltip logic (mantive a proposta anterior com pequenos ajustes)
    (function () {
      const tooltip = document.getElementById('tooltip');
      const skills = document.querySelectorAll('#skills .skill');
      let hideTimeout = null;

      function showTooltip(text, clientX, clientY) {
        tooltip.textContent = text;
        tooltip.style.display = 'block';
        tooltip.style.opacity = '1';
        tooltip.style.transform = 'translateY(0)';
        positionTooltip(clientX, clientY);
      }

      function hideTooltip() {
        tooltip.style.opacity = '0';
        tooltip.style.transform = 'translateY(0.25rem)';
        if (hideTimeout) clearTimeout(hideTimeout);
        hideTimeout = setTimeout(() => { tooltip.style.display = 'none'; }, 150);
      }

      function positionTooltip(clientX, clientY) {
        const offsetX = 16; const offsetY = 8;
        tooltip.style.left = '0px'; tooltip.style.top = '0px'; tooltip.style.maxWidth = '300px';
        const rect = tooltip.getBoundingClientRect();
        let left = clientX + offsetX; let top = clientY + offsetY;
        if (left + rect.width > window.innerWidth - 10) left = clientX - rect.width - offsetX;
        if (top + rect.height > window.innerHeight - 10) top = clientY - rect.height - offsetY;
        const scrollX = window.scrollX || window.pageXOffset; const scrollY = window.scrollY || window.pageYOffset;
        tooltip.style.left = (left + scrollX) + 'px'; tooltip.style.top = (top + scrollY) + 'px';
      }

      skills.forEach(el => {
        const text = el.getAttribute('data-tooltip') || '';
        el.addEventListener('mousemove', (e) => showTooltip(text, e.clientX, e.clientY));
        el.addEventListener('mouseenter', (e) => showTooltip(text, e.clientX, e.clientY));
        el.addEventListener('mouseleave', hideTooltip);
        el.addEventListener('touchstart', (e) => { const touch = e.touches[0]; showTooltip(text, touch.clientX, touch.clientY); e.preventDefault(); }, {passive:false});
      });

      document.addEventListener('click', (e) => { if (!e.target.closest('#skills')) hideTooltip(); });
      window.addEventListener('scroll', () => { if (tooltip.style.display === 'block') hideTooltip(); }, {passive:true});
      window.addEventListener('resize', () => { if (tooltip.style.display === 'block') hideTooltip(); });
    })();

    // Avatar modal
    const avatar = document.getElementById('avatar');
    const modal = document.getElementById('avatar-modal');
    avatar.addEventListener('click', () => modal.classList.toggle('hidden'));
    modal.addEventListener('click', () => modal.classList.add('hidden'));
  </script>
  <script>
  const themeToggle = document.getElementById('theme-toggle');
  const themePanel = document.getElementById('theme-panel');
  const themeClose = document.getElementById('theme-close');
  const modeBtns = document.querySelectorAll('.mode-btn');
  const primaryColorInput = document.getElementById('primary-color');
  const presetBtns = document.querySelectorAll('.preset-color');
  const resetBtn = document.getElementById('reset-theme');
  const applyBtn = document.getElementById('apply-theme');

  const THEME_KEY = 'ggm_theme_v1';
  const defaultState = { mode: 'auto', primary: '#60a5fa' };
  let themeState = JSON.parse(localStorage.getItem(THEME_KEY)) || { ...defaultState };

  function applyTheme(state) {
    document.documentElement.classList.remove('theme-light','theme-dark');
    if(state.mode === 'light') document.documentElement.classList.add('theme-light');
    else if(state.mode === 'dark') document.documentElement.classList.add('theme-dark');
    else {
      if(window.matchMedia('(prefers-color-scheme: light)').matches) document.documentElement.classList.add('theme-light');
    }
    document.documentElement.style.setProperty('--primary', state.primary);
    primaryColorInput.value = state.primary;
    applyBtn.style.background = state.primary;
    if(typeof initParticles === 'function') initParticles(state.primary);
  }

  // Aplicar imediatamente
  applyTheme(themeState);

  // Abrir/fechar painel
  themeToggle.addEventListener('click', ()=> themePanel.classList.toggle('hidden'));
  themeClose.addEventListener('click', ()=> themePanel.classList.add('hidden'));

  // Mudar modo instant√¢neo
  modeBtns.forEach(btn => {
    btn.addEventListener('click', ()=>{
      themeState.mode = btn.dataset.mode;
      applyTheme(themeState);
      // efeito visual r√°pido
      modeBtns.forEach(b=>b.classList.remove('ring','ring-2','ring-offset-1'));
      btn.classList.add('ring','ring-2','ring-offset-1');
    });
  });

  // Cor prim√°ria instant√¢nea
  primaryColorInput.addEventListener('input', e=>{
    themeState.primary = e.target.value;
    applyTheme(themeState);
  });

  // Presets instant√¢neos
  presetBtns.forEach(btn => btn.addEventListener('click', ()=>{
    primaryColorInput.value = btn.dataset.color;
    primaryColorInput.dispatchEvent(new Event('input'));
  }));

  // Bot√£o aplicar = apenas salva
  applyBtn.addEventListener('click', ()=>{ localStorage.setItem(THEME_KEY, JSON.stringify(themeState)); });

  // Reset = aplica e salva
  resetBtn.addEventListener('click', ()=>{
    themeState = { ...defaultState };
    localStorage.setItem(THEME_KEY, JSON.stringify(themeState));
    applyTheme(themeState);
  });

  // Auto mode detecta mudan√ßas do sistema
  if(window.matchMedia) window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', ()=>{
    if(themeState.mode==='auto') applyTheme(themeState);
  });

  // Fechar painel com ESC ou clique fora
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') themePanel.classList.add('hidden'); });
  document.addEventListener('click', e=>{
    if(!e.target.closest('#theme-panel') && !e.target.closest('#theme-toggle')) themePanel.classList.add('hidden');
  });
</script>

</body>
</html>